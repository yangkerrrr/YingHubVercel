<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Player - YingHub</title>

    <link rel="icon" href="../media/logo.svg" type="image/x-icon" />
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/main.css" />
    <link
      rel="stylesheet"
      href="https://site-assets.fontawesome.com/releases/v6.5.2/css/all.css"
    />
    <link rel="stylesheet" type="text/css" href="../css/toastify.min.css" />
    <script src="../js/cloak.js"></script>
  </head>

  <body>
    <div class="navbar-container"></div>

    <div id="blobs">
      <div class="gradiant"></div>
      <div class="gradiant2"></div>
      <div class="gradiant3"></div>
    </div>

    <div id="particles-js"></div>

    <!-- Game title -->
    <h1 id="gameTitle">Loading game...</h1>

    <!-- Game iframe -->
    <div style="width:100%; height:85vh; padding:10px;">
      <iframe
        id="gameFrame"
        style="width:100%; height:100%; border:none; border-radius:12px; background:black;"
        allowfullscreen
      ></iframe>
    </div>

    <div class="footer">
      <a href="https://github.com/yangkerrrr/YingHubVercel" class="link">Github</a>
      <a href="example.com" class="link">Discord</a>
    </div>

    <!-- Scripts -->
    <script src="../js/toastify-js.js"></script>
    <script src="../js/sweetalert2.js"></script>
    <script src="../js/nav.js"></script>
    <script src="../js/main.js"></script>

    <script src="/sj/register-sw.js" defer></script>
    <script src="/sj/search.js" defer></script>
    <script src="/sj/index.js" defer></script>
    <script src="/scram/scramjet.all.js"></script>
    <script src="/baremux/index.js" defer></script>
    <script src="/uv/uv.bundle.js" defer></script>
    <script src="/uv/uv.config.js" defer></script>
    <script src="/uv/register-sw.js" defer></script>
    <script src="/uv/search.js" defer></script>
    <script src="/uv/proxy.js" defer></script>
    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>

    <div class="panic-btn-div" id="panicDiv">
      <button id="panicBtn">Panic</button>
    </div>

    <!-- ðŸ”¥ GAME LOADER SCRIPT -->
    <script>
      const params = new URLSearchParams(window.location.search);
      const dir = params.get("dir"); // example: game/terraria

      const iframe = document.getElementById("gameFrame");
      const title = document.getElementById("gameTitle");

      if (!dir) {
        title.textContent = "No game specified";
      } else {
        // remove "game/"
        const folder = dir.replace(/^game\//, "");

        const gameUrl = `https://yangkerrrr.github.io/game/${folder}/`;

        iframe.src = gameUrl;

        title.textContent = folder
          .replace(/-/g, " ")
          .replace(/\b\w/g, c => c.toUpperCase());
      }
    </script>
  </body>
</html>
S
