<!DOCTYPE html>



  <head>
    <script>
      window.gameconfig = {
        name: "Tony Hawk's Pro Skater (USA)",
        url: "https://cdn.jsdelivr.net/gh/bubbls/ugss@2fc3907ff86a6758296508c4ecafe087a2ccd96e/tony%20hawk%20pro%20skater/Tony%20Hawk's%20Pro%20Skater%20(USA).chd",
        core: "psx",
        min: 1,
        max: 18,
      };
    </script>
    <script>
      function mergeFiles(fileParts, cb) {
        return new Promise((resolve, reject) => {
          let buffers = [];
          function fetchPart(index) {
            if (index >= fileParts.length) {
              let mergedBlob = new Blob(buffers);
              let mergedFileUrl = URL.createObjectURL(mergedBlob);
              resolve(mergedFileUrl);
              return;
            }
            fetch(fileParts[index])
              .then((response) => response.arrayBuffer())
              .then((data) => {
                buffers.push(data);
                fetchPart(index + 1);
              })
              .catch(reject);
            cb(index);
          }
          fetchPart(0);
        });
      }
      function getParts(file, start, end) {
        let parts = [];
        for (let i = start; i <= end; i++) {
          let padded = String(i).padStart((end+"").length, '0');
          parts.push(file + ".part" + padded);
        }
        return parts;
      }
getParts("asd.js", 0, 100)
    </script>
    <style>
      body,

      
      html {
        margin: 0;
        padding: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        width: 100%;
        height: 100%;
        background-color: #121212;
        color: white;
        font-family: Arial, sans-serif;
      }
      
      
      #game-container {
        text-align: center;
        width: 100%;
        height: 100%;
      }
      #loading-progress {
        font-size: 18px;
        margin-top: 20px;
        padding: 10px;
        background: rgba(255, 255, 255, 0.1);
        border-radius: 8px;
        display: inline-block;
      }
    </style>
  </head>
  <body>
    <a href="https://yangkerrrr.github.io/YingHub/" target="_blank">
    <img id="truffled-logo" src="/YingHub/media/yingnetwork(455x207).png" alt="Logo">
</a>
    <div id="game-container">
      <div id="game"></div>
      <div id="loading-progress">Loading: 0/0</div>
      <div id="first-time">First-time loading may take longer...</div>
    </div>
    <script>
      var parts = getParts(
        window.gameconfig.url,
        window.gameconfig.min,
        window.gameconfig.max
      );
      var totalParts = parts.length;

      function updateLoadingProgress(loaded) {
        const progressElement = document.getElementById("loading-progress");
        if (loaded === 0) {
          progressElement.textContent = "Loading: 0/0";
        } else {
          progressElement.textContent = `Loading: ${loaded}/${totalParts}`;
        }
      }

      Promise.all([mergeFiles(parts, updateLoadingProgress)])
        .then(([gameUrl]) => {
          document.getElementById("loading-progress").remove();
          document.getElementById("first-time").remove();
          EJS_player = "#game";
          EJS_core = window.gameconfig.core;
          EJS_gameName = window.gameconfig.name;
          EJS_color = "#0064ff";
          EJS_startOnLoaded = true;
          EJS_pathtodata = "https://cdn.jsdelivr.net/gh/genizy/emu@master/";
          EJS_gameUrl = gameUrl;
          EJS_biosUrl = "https://cdn.jsdelivr.net/gh/Abdess/retroarch_system@5f96368f6dbad5851cdb16a5041fefec4bdcd305/Sony%20-%20PlayStation/scph5501.bin";
          const script = document.createElement("script");
          script.src =
            "https://cdn.jsdelivr.net/gh/genizy/emu@master/loader.js";
          document.body.appendChild(script);
        })
        .catch((error) => {
          console.error(error);
          document.getElementById("loading-progress").textContent =
            "Error loading game.";
        });
    </script>
  </body>
</html> 
