<!doctype html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">

    <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,viewport-fit=cover,user-scalable=no">
    <meta name="robots" content="index, follow, max-image-preview:large">
    <meta name="theme-color" content="#000000">

    <title>PolyTrack Version 0.5.2</title>

    <!-- Favicon (GitHub version) -->
    <link rel="icon" type="image/png" href="./favicon.ico">
    <link rel="shortcut icon" type="image/png" href="./favicon.ico">
    <link rel="apple-touch-icon" href="./favicon.ico">

    <link rel="preload" href="./forced_square.woff2" as="font" type="font/woff2" crossorigin="anonymous">
    <link rel="preload" href="./images/logo.svg" as="image" type="image/svg+xml">
    <link rel="preload" href="./images/discord.svg" as="image" type="image/svg+xml">
    <link rel="manifest" href="./manifest.json">

     <script async src="https://www.googletagmanager.com/gtag/js?id=G-JVMHK5PFVP"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-JVMHK5PFVP');
  </script>

    <style>
      :root{
        --brand:#5ee1ff;
        --glow:0 0 12px rgba(94,225,255,.65), 0 0 32px rgba(155,255,183,.35);
        --shadow:0 10px 30px rgba(0,0,0,.4);
      }
      html, body{ margin:0; height:100%; background:#000; color:#eaf4ff; font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif; }
      body{ overflow:hidden; }

      /* Static Menu (top-left) */

      /* Hidden SEO helper */
      .seo-hidden{
        position:absolute; width:1px; height:1px; overflow:hidden;
        clip:rect(1px,1px,1px,1px); white-space:nowrap;
      }

      @media (max-width:600px){
        #staticMenu{ font-size:13px; padding:8px 12px }
        #staticSlideMenu{ width:88px; height:88px }
      }
    </style>

    <script defer="defer" src="./error_screen.bundle.js"></script>
    <script defer="defer" src="./main.bundle.js"></script>
  </head>

  <body>
    <canvas id="screen"></canvas>
    <div id="ui"></div>
    <div id="transition-layer"></div>


    <script>
      // Leave warning
      window.onbeforeunload = () => "Are you sure you want to leave? Your session may be interrupted.";

      // Static Menu show/hide with 3 minute return
      (function(){
        const menu = document.getElementById("staticMenu");
        const btn  = document.getElementById("closeStaticMenu");
        const KEY  = "sq931_staticMenu_hidden_until";
        const show = () => { if (menu) menu.style.display = "flex"; };
        const hideFor3m = () => {
          if (!menu) return;
          menu.style.display = "none";
          const until = Date.now() + 180000;
          localStorage.setItem(KEY, String(until));
          setTimeout(show, 180000);
        };
        const until = parseInt(localStorage.getItem(KEY) || "0", 10);
        if (until && Date.now() < until){
          if (menu) menu.style.display = "none";
          setTimeout(show, until - Date.now());
        } else {
          show();
        }
        if (btn) btn.onclick = hideFor3m;
      })();

      // Rotator: Google Form → Discord → Instagra

        // Preload
        ROTATION.forEach(o => { const p = new Image(); p.src = o.src; });

        const T_IN = 2000, T_SHOW = 5000, T_OUT = 2000, T_HIDDEN = 20000;
        let idx = 0;

        function apply(state){
          a.href = state.link;
          img.alt = state.alt;
          img.style.opacity = "0";
          setTimeout(() => { img.src = state.src; }, 80);
          img.onload = () => { img.style.opacity = "1"; };
        }
        function delay(ms){ return new Promise(r => setTimeout(r, ms)); }

        (async function cycle(){
          for(;;){
            apply(ROTATION[idx]);
            wrap.style.pointerEvents = "auto";
            wrap.classList.remove("slide-out");
            wrap.classList.add("slide-in");
            await delay(T_IN + T_SHOW);
            wrap.classList.remove("slide-in");
            wrap.classList.add("slide-out");
            await delay(T_OUT);
            wrap.style.pointerEvents = "none";
            await delay(T_HIDDEN);
            idx = (idx + 1) % ROTATION.length;
          }
        })();
      })();

      // Keyboard secret toggle: y + u + i to toggle all Visual SEO
      (function(){
        const idsToToggle = ["staticMenu", "staticSlideMenu"];
        let seq = [];
        const target = ["y","u","i"];
        function toggle(){
          idsToToggle.forEach(id=>{
            const el = document.getElementById(id);
            if(!el) return;
            const isHidden = (el.style.display === "none" || getComputedStyle(el).display === "none");
            el.style.display = isHidden ? (id === "staticMenu" ? "flex" : "block") : "none";
          });
        }
        window.addEventListener("keydown", (e)=>{
          seq.push(String(e.key || "").toLowerCase());
          if (seq.length > 3) seq.shift();
          if (seq.join("") === target.join("")) toggle();
        });
      })();
    </script>

    <div class="seo-hidden" aria-hidden="true">
      <h1>PolyTrack Version 0.5.2</h1>
      <p>Top-left Static Menu and bottom-right rotating widget by StaticQuasar931. Unblocked games, school safe games, StaticQuasar931, staticquasar931, static 931, staticq, staticq931.</p>
    </div>
  </body>
</html>
